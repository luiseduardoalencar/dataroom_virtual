{% extends 'dataroom/base_generic.html' %}
{% block title %}Register{% endblock %}
{% block content %}
<div class="register-wrapper">
    <div class="register-container">
        <h2>Cadastrar</h2>
        <form method="post">
            {% csrf_token %}
            <div class="form-row">
                <div class="form-group col-md-6">
                    {{ form.company_name.label_tag }} {{ form.company_name }}
                </div>
                <div class="form-group col-md-6">
                    {{ form.cnpj.label_tag }} {{ form.cnpj }}
                    {% if form.cnpj.errors %}
                        <div class="invalid-feedback d-block">
                            {{ form.cnpj.errors }}
                        </div>
                    {% endif %}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    {{ form.social_reason.label_tag }} {{ form.social_reason }}
                </div>
                <div class="form-group col-md-6">
                    {{ form.phone.label_tag }} {{ form.phone }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    {{ form.email.label_tag }} {{ form.email }}
                </div>
                <div class="form-group col-md-6">
                    {{ form.address.label_tag }} {{ form.address }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    {{ form.representative_name.label_tag }} {{ form.representative_name }}
                </div>
                <div class="form-group col-md-6">
                    {{ form.position.label_tag }} {{ form.position }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    {{ form.password1.label_tag }} {{ form.password1 }}
                </div>
                <div class="form-group col-md-6">
                    {{ form.password2.label_tag }} {{ form.password2 }}
                </div>
            </div>
            <div class="form-row align-items-center">
                <div class="form-group form-check-inline col-md-6">
                    <input type="checkbox" class="form-check-input" id="terms" required>
                    <label class="form-check-label" for="terms">
                        Concordo com os <a href="#" data-toggle="modal" data-target="#termsModal"> termos de aceite</a>
                    </label>
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary btn-register" id="register-btn" disabled>Cadastrar</button>
            </div>
        </form>
        <div class="login-link">
            Já possui uma conta? <a href="{% url 'login' %}">Login</a>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" role="dialog" aria-labelledby="termsModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="termsModalLabel">Termo de Aceite de Condições de Confidencialidade e Reprodução</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Bem-vindo à Plataforma da Investe Piauí (Agência de Atração de Investimentos Estratégicos do Piauí).</p>
                <p>Ao se cadastrar e acessar o Data Room do Projeto Intermodal Piauí (Porto e Hidrovia), você concorda com as seguintes condições de confidencialidade e reprodução, em conformidade com as legislações aplicáveis:</p>
                <p>1. Confidencialidade e Reprodução:</p>
                <p>1.1. Todos os documentos, informações e materiais disponibilizados no Data Room são de propriedade intelectual e comercial do Estado do Piauí, protegidos pela Lei nº 9.279/1996 (Lei da Propriedade Industrial), Lei nº 9.610/1998 (Lei de Direitos Autorais) e demais legislações aplicáveis.</p>
                <p>1.2. A reprodução, divulgação, distribuição, modificação ou utilização de qualquer conteúdo presente no Data Room para fins não autorizados expressamente pela Investe Piauí é estritamente proibida. Qualquer uso indevido será sujeito às penalidades previstas na legislação brasileira, incluindo, mas não se limitando a, ações civis e penais.</p>
                <p>1.3. A Investe Piauí se reserva o direito de tomar as medidas legais cabíveis em caso de violação das condições de confidencialidade e reprodução aqui estipuladas, incluindo a responsabilidade por danos materiais e morais causados ao Estado do Piauí.</p>
                <p>2. Disclaimer:</p>
                <p>2.1. A Investe Piauí se reserva o direito de não implantar os projetos que foram publicizados. A disponibilização de informações não implica em qualquer obrigação de execução ou implementação dos projetos.</p>
                <p>2.2. As informações e os documentos disponibilizados têm caráter meramente informativo e não constituem oferta, proposta, compromisso ou garantia de implementação, nos termos dos artigos 427 e 428 do Código Civil Brasileiro.</p>
                <p>2.3. As condições de negócio serão anunciadas oportunamente, e a participação no Data Room não garante nenhum direito ou preferência na negociação futura. O usuário reconhece que a Investe Piauí poderá, a seu exclusivo critério, modificar, suspender ou cancelar quaisquer projetos a qualquer momento.</p>
                <p>3. Proteção de Dados Pessoais:</p>
                <p>3.1. A Investe Piauí cumpre integralmente as disposições da Lei nº 13.709/2018 (Lei Geral de Proteção de Dados Pessoais - LGPD).</p>
                <p>3.2. Os dados pessoais fornecidos no cadastro serão utilizados exclusivamente para os fins de gerenciamento e controle de acesso ao Data Room, conforme previsto na Política de Privacidade da Investe Piauí.</p>
                <p>3.3. O usuário tem o direito de acessar, corrigir, solicitar a exclusão de seus dados pessoais, bem como exercer os demais direitos previstos na LGPD, entrando em contato com o Encarregado de Proteção de Dados da Investe Piauí.</p>
                <p>4. Alterações de Versão:</p>
                <p>4.1. A Investe Piauí se reserva o direito de realizar alterações nas versões dos projetos e documentos disponibilizados na plataforma web sem aviso prévio.</p>
                <p>4.2. É responsabilidade do usuário acompanhar e se atualizar sobre as versões mais recentes dos documentos, sendo recomendada a verificação regular do Data Room para eventuais atualizações.</p>
                <p>5. Responsabilidades e Obrigações:</p>
                <p>5.1. O usuário compromete-se a utilizar o Data Room de forma ética, responsável e conforme a legislação vigente, abstendo-se de qualquer atividade que possa comprometer a integridade, segurança e confidencialidade das informações.</p>
                <p>5.2. O usuário reconhece que é responsável por qualquer ato ou omissão que resulte em violação das condições aqui estipuladas, respondendo por eventuais danos causados à Investe Piauí ou a terceiros.</p>
                <p>5.3. A Investe Piauí não se responsabiliza por quaisquer perdas, danos ou prejuízos decorrentes do uso indevido das informações disponibilizadas no Data Room.</p>
                <p>6. Foro e Legislação Aplicável:</p>
                <p>6.1. Este termo é regido pelas leis da República Federativa do Brasil. Qualquer controvérsia oriunda deste termo será submetida ao foro da Comarca de Teresina, Piauí, com exclusão de qualquer outro, por mais privilegiado que seja.</p>
                <p>7. Aceitação das Condições:</p>
                <p>7.1. Ao clicar em "Aceito", você declara que leu, compreendeu e concorda com todas as condições estabelecidas neste termo.</p>
                <p>7.2. Caso não concorde com algum dos termos, por favor, não prossiga com o cadastro e não acesse o Data Room.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            </div>
        </div>
    </div>
</div>

<style>
    html, body {
        height: 100%;
        margin: 0;
    }
    .register-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        padding: 15px;
    }
    .register-container {
        width: 100%;
        max-width: 600px; /* Ajuste para caber duas colunas */
        min-width: 300px;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        background-color: #fff;
    }
    .register-container h2 {
        text-align: center;
        margin-bottom: 20px;
    }
    .form-row {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }
    .form-group {
        margin-bottom: 15px;
    }
    .form-group label {
        display: block;
        margin-bottom: 5px;
    }
    .form-group input,
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 10px;
        box-sizing: border-box;
    }
    .col-md-6 {
        width: 48%;
    }
    .btn-register {
        width: 100%;
        padding: 10px;
        background-color: #007bff;
        border-color: #007bff;
        display: flex;
        justify-content: center; /* Centraliza horizontalmente */
        align-items: center; /* Centraliza verticalmente */
        text-align: center; /* Garante que o texto esteja centralizado */
    }
    .login-link {
        text-align: center;
        margin-top: 20px;
    }
    .login-link a {
        color: #007bff;
        text-decoration: none;
    }
    .login-link a:hover {
        text-decoration: underline;
    }
    @media (max-width: 576px) {
        .register-container {
            padding: 15px;
        }
        .register-container h2 {
            font-size: 1.5rem;
        }
        .col-md-6 {
            width: 100%; /* Alinhar itens verticalmente em telas menores */
        }
        .btn-register {
            padding: 8px;
        }
    }
    .form-check-inline {
        display: flex;
        align-items: center;
        margin-top: 10px; 
    }
    .form-check-inline input {
        margin-right: 10px;
        width: auto; 
    }
</style>

<script>
    function formatCNPJ(cnpj) {
        return cnpj
            .replace(/\D/g, '')
            .replace(/^(\d{2})(\d)/, '$1.$2')
            .replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3')
            .replace(/\.(\d{3})(\d)/, '.$1/$2')
            .replace(/(\d{4})(\d)/, '$1-$2');
    }

    document.addEventListener('DOMContentLoaded', function() {
        const cnpjInput = document.querySelector('input[name="cnpj"]');
        cnpjInput.addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/\D/g, '');
        });

        const termsCheckbox = document.getElementById('terms');
        const registerButton = document.getElementById('register-btn');

        termsCheckbox.addEventListener('change', function() {
            registerButton.disabled = !this.checked;
        });
    });
</script>
{% endblock %}
